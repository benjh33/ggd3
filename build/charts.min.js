/*! charts 2014-10-16 */
function createAccessor(a){function b(b){return arguments.length?(this.attributes[a]=b,this):this.attributes[a]}return b}charts.tools.round=function(a){return Math.round(100*a)/100},charts.tools.zeroDomain=function(a,b){return b&&(a[0]=0),a},charts.Frame=function(a,b){function c(a){a.style("width",50).style("height",50).append("svg").append("rect").attr("width",50).attr("height",50).attr("fill","orange"),$(a.node()).draggable()}function d(a){var c=a.selectAll("defs").data([1]),d=a.selectAll("g.chart").data([1]),e=a.selectAll("g.h-axis").data([1]),f=a.selectAll("g.v-axis").data([1]);if(c.select("rect").attr("width",h.width).attr("height",h.height),c.enter().append("defs").append("clipPath").attr("id",function(a){return a+"-clip"}).append("rect").attr("width",h.width).attr("height",h.height),d.attr("class","chart").attr("transform","translate("+h.translate+")").attr("clip-path",function(a){return"#"+a+"-clip"}),d.enter().append("g").attr("class","chart").attr("transform","translate("+h.translate+")").attr("clip-path",function(a){return"#"+a+"-clip"}),f.attr("transform","translate(0,"+i.top+")"),f.enter().append("g").attr("class","v-axis").attr("transform","translate(0,"+i.top+")"),e.attr("transform","translate("+[i.left,i.top+h.height]+")"),e.enter().append("g").attr("class","h-axis").attr("transform","translate("+[i.left,i.top+h.height]+")"),b.hAdjust()){var g=e.selectAll("rect.hadjust").data([1]);g.attr("width",h.width).attr("height",i.bottom),g.enter().append("rect").attr("class","hadjust").attr("width",h.width).attr("height",i.bottom)}if(b.vAdjust()){var j=f.selectAll("rect.vadjust").data([1]);j.attr("width",i.left).attr("height",h.height),j.enter().append("rect").attr("class","vadjust").attr("width",i.left).attr("height",h.height)}if(b.brush()){var k=a.select(".chart").selectAll("rect.brushframe").data([1]);k.attr("width",h.width).attr("height",h.height),k.enter().append("rect").attr("class","brushframe").attr("width",h.width).attr("height",h.height)}}var e=a.attr("id"),f=a.selectAll("div.outer").data([1]),g=b.facet(),h=b.plotDim()(b.attributes),i=b.margin();f.attr("id","frame-"+e).attr("class","outer"),f.enter().append("div").attr("class","outer").attr("id","frame-"+e).each(function(){d3.select(this).insert("div","*").attr("id","legend-"+e).call(c)}),f.exit().remove();var j=f.selectAll("svg.plot").data(g?g:["single"],_.identity);return j.each(function(){d3.select(this).attr({width:b.width(),height:b.height()}).call(d)}),j.enter().append("svg").attr({width:0,height:0,"fill-opacity":0}).transition().delay(500).each("start",function(){d3.select(this).attr("class","plot").attr({width:b.width(),height:b.height(),"fill-opacity":1}).attr("id",function(a){return a+"-"+e}).call(d)}),j.exit().transition().duration(500).style("opacity",0).remove(),j},charts.CollectAxes=function(a,b){var c=b.facet();return _.zipObject(c,_.map(c,function(){return{h:null,v:null}}))},charts.axis=function(){},charts.Starter=function(a){var b={width:600,height:400,margin:{top:20,bottom:20,left:20,right:20},id:"chart_id",legend:!0,facet:void 0,transitionTime:500,legendPosition:"bottom",legendId:function(){return chart.id()+"-legend"},hAdjust:!1,vAdjust:!1,xVar:null,yVar:null,hZero:!1,vZero:!1,hFree:!1,vFree:!1,hTitle:null,vTitle:null,toolTitle:null,toolContent:null,sizeVar:null,sizeScale:null,colors:d3.scale.category10(),colorVar:null};if("object"==typeof a)for(var c in a)b[c]=a[c];b.plotDim=function(a){return{width:a.width-a.margin.left-a.margin.right,height:a.height-a.margin.top-a.margin.bottom,translate:[a.margin.left,a.margin.top]}},this.attributes=b;for(var d in this.attributes)!this[d]&&this.attributes.hasOwnProperty(d)&&(this[d]=createAccessor(d));return this},charts.chart.point=function(){"use strict";var a=function(a){if(this.attributes={hAdjust:!0,vAdjust:!0,brush:!0,sizeScale:d3.scale.linear(),xFormat:d3.format("2,.1f"),yFormat:d3.format("2,.1f"),brushRange:null,grid:!0,legend:!0,toolTitle:function(a){return c.facet()?"<h4>"+a[c.facet()]+"</h4>":c.colorVar()?"<h4>"+a[c.nestVar()]+"</h4>":void 0},toolContent:function(a){return c.nestVar()+": "+a[c.nestVar()]+"<br>"+c.xVar()+": "+charts.tools.round(a[c.xVar()])+"<br>"+c.yVar()+": "+charts.tools.round(a[c.yVar()])},pointOpacity:.5,sizeRange:[4,10],exportedExtent:null,dataPointId:null,highlightId:!1,legendSize:12,transitionTime:500},"object"==typeof a)for(var b in a)this.attributes[b]=a[b];var c=new charts.Starter(this.attributes);return c.draw=function(a){a.each(function(b){_.isArray(c.facet())||c.facet(_.unique(_.map(b,function(a){return a[c.facet()]}))),c.scales=charts.CollectAxes(a,c),c.svgs=new charts.Frame(a,c)})},c};return a}();