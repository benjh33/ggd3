---
layout: example
title: Cars
---
<style>
.axis .tick line, .axis path.domain {
  stroke-opacity: 0 !important;
} 
</style>
<script>
function collectData(layer) {
  return d3.selectAll('.geom.' + layer).data();
}
var div = d3.select('#chart01'),
    chart, data;

var bar = ggd3.geoms.bar()
            .subRangeBand(0.15)
var layers = [ggd3.layer()
                .geom(bar)
                .stat({y:'median'}),
              ggd3.layer().geom(ggd3.geoms.text()
                .size(10)
                .color('none')
                .position('jitter'))
              .aes({label: 'mm'})
              ];

var facet = ggd3.facet({x:'am', ncols:2,
                        titleSize: [0,0]});

var chart = ggd3.plot()
                    .width(280)
                    .height(280)
                    .facet(facet)
                    .aes({x:'cyl', y:'mpg', fill:'gear',
                         color: 'gear'})
                    .yScale({axis:{ position:'left', 
                            orient:'left', ticks: 4}})
                    .xScale({axis: {ticks: 3, position: "top"}})
                    .rangePadding(0.5)
                    .margins({top: 5, bottom:10, left:50, right:10})
                    .layers(layers);

d3.csv("/assets/data/mtcars.csv", function(error, d) {
  data = d;
  chart.data(data)
      .draw(div);
});

function redraw() {
    chart.draw(div);
}

</script>
